Perfeito\! Manter o padr√£o de documenta√ß√£o √© essencial. Adaptei o seu esbo√ßo do "Mercado Digital" para o contexto do **Sistema de Drones**, mantendo exatamente a mesma estrutura visual e n√≠vel de detalhe.

Isso deve ser salvo em: **`Documents/Documenta√ß√£o API/README.md`**.

-----

# API - Sistema de Gest√£o de Drones (DTI)

Esta √© a documenta√ß√£o para a API do backend do simulador de log√≠stica de drones, constru√≠da em Node.js com Express.

## Informa√ß√µes Gerais

* **URL Base:** `http://localhost:3000`
* **Autentica√ß√£o:** Nenhuma. API p√∫blica para fins de simula√ß√£o.
* **Formato dos Dados:** Todas as requisi√ß√µes (`POST`) devem enviar `Content-Type: application/json` e todos os dados no corpo devem ser JSON. Todas as respostas s√£o em JSON.

-----

## Estrutura dos Dados

### Objeto de Dashboard (Retorno Principal)

O endpoint `/dashboard` retorna o estado completo da simula√ß√£o ("snapshot"), que √© consumido pelo frontend a cada 1 segundo. Ele segue esta estrutura:

```json
{
  "metricas": {
    "entregas": 12,
    "viagens": 5,
    "eficiencia": "100%",
    "droneEficiente": "4562256",
    "tempoMedio": "2 seg"
  },
  "drones": [
    {
      "id": "4562256",
      "status": "EM_VOO",
      "capacidadeRestante": "8.50",
      "bateria": "Alta",
      "bateriaPercentual": 85,
      "rota": "Pr√≥ximo ao Destino",
      "lat": -19.9208,
      "lng": -43.9378,
      "pedidos": []
    }
  ],
  "pedidos": [
    {
      "id": "uuid-1234",
      "endereco": "Av. Amazonas, 100",
      "peso": 2.5,
      "prioridade": "Alta",
      "status": "Aguardando"
    }
  ],
  "historico": [
    {
      "id": "uuid-5678",
      "endereco": "Pra√ßa da Liberdade",
      "entregueEm": "14:30:00",
      "status": "Conclu√≠do"
    }
  ]
}
```

### Objeto de Erro

Quando uma requisi√ß√£o falha (ex: valida√ß√£o de peso), a API retorna:

```json
{
  "erro": "Peso excede a capacidade m√°xima do drone (12kg)."
}
```

-----

## Endpoints de Pedidos

Estes endpoints gerenciam a entrada de novas demandas log√≠sticas.

### 1\. `POST /pedidos`

* **Prop√≥sito:** Cadastra uma nova entrega na fila. O sistema automaticamente tentar√° alocar este pedido a um drone dispon√≠vel baseando-se na prioridade.
* **Valida√ß√£o:** O peso n√£o pode exceder 12kg.

**Corpo da Requisi√ß√£o (JSON):**

```json
{
  "endereco": "Av. Afonso Pena, 1500",
  "bairro": "Centro",
  "numero": "1500",
  "coordenadas": {
    "lat": -19.9245,
    "lng": -43.9352
  },
  "peso": 5.5,
  "prioridade": "Alta"
}
```

* **Resposta de Sucesso (201):**

<!-- end list -->

```json
{
  "mensagem": "Pedido criado e processado.",
  "pedido": {
    "id": "uuid-gerado...",
    "status": "PENDENTE",
    ...
  }
}
```

* **Resposta de Erro (400):**

<!-- end list -->

```json
{
  "erro": "Peso excede a capacidade m√°xima do drone (12kg)."
}
```

-----

## Endpoints de Monitoramento

Estes endpoints fornecem dados em tempo real para a interface visual.

### 1\. `GET /dashboard`

* **Prop√≥sito:** Retorna o "estado do mundo" da simula√ß√£o. Inclui posi√ß√£o de todos os drones, n√≠vel exato de bateria, fila de espera e hist√≥rico.

* **Frequ√™ncia:** O Frontend consome este endpoint via *polling* (intervalo de 1 segundo).

* **Corpo da Requisi√ß√£o:** Nenhum.

* **Resposta de Sucesso (200):** Retorna o Objeto de Dashboard (ver estrutura acima).

### 2\. `GET /health`

* **Prop√≥sito:** Endpoint simples para verificar se o servidor est√° online.

* **Corpo da Requisi√ß√£o:** Nenhum.

* **Resposta de Sucesso (200):**

<!-- end list -->

```json
{
  "status": "API Drones Online üöÅ",
  "time": "2023-12-10T14:00:00.000Z"
}
```